---
title: Unit Test
icon: fa-solid fa-vial
date: 2025-04-19
category: grammar
tag:
    - test
license: MIT
---

> **单元测试**是一种用于验证程序中最小可测试单元行为是否符合预期的测试方法。通常，这些“单元”指的是函数、方法或类。
>
> 通过为每个函数编写对应的测试用例，开发者可以：
> - 验证程序逻辑是否正确
> - 防止代码修改引入回归错误
> - 保证边界条件和异常输入下系统行为的稳定性

在 Hulo 中对单元测试函数的名称最好以 `test_xxx` 的形式，xxx表示要测试的具体功能。这样书写的好处一目了然。
此外，为了便于管理和维护，单元测试的函数请单独写在一个测试文件中，你可以以 `xxx_test.hl` 命名，或者其他名称，只要你乐意。不过最好还是采用 `_test` 标准化命名的形式。

::: warning
请不要将测试函数和非测试混合在一个文件中，这样编译器在编译的时候可能会在目标语言生成测试函数的定义。
:::

```hulo title="math_test.hl" :no-line-numbers
fn test_add() {
    $a := 1 + 1
    assert_eq(a, 2)
}
```

当你编写完成相应函数后，便可使用 `hulo` 或者 `hlpm` 命令进行单元测试。